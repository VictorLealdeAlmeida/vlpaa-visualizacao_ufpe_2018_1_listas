<!DOCTYPE html>
 <html>
  	<head>
    	<title>Problema2</title>
    	<script src="https://visualizacao-ufpe.github.io/data_vis_assignments/2018.1/datasetProblema2.js"></script>
    	<script type="text/javascript" src="https://d3js.org/d3.v5.js""></script>
   	</head>
   	<body>

   		<script type="text/javascript">

   			var height = 450
   			
   			var svgContainer = d3.select("body")
 			.append("svg")
 			.attr("width", 600)
 			.attr("height", height)

 			var rect = svgContainer.selectAll("rect")
 			.data(dataset)
 			.enter()
 			.append("rect");

 			var rectAttributes = rect
 			.attr("x", function(d, index){ return index*50; })
 			.attr("y", function(d){ return (height - 7*d.books) - 40; })
 			.attr("height", function(d){ return 7*d.books; })
 			.attr("width", 40)
 			.text(function(d){ return d.books; })
 			.style("fill", function(d){
 				if (d.favoriteGenre == "romance"){
 					return '#fbb4ae'
 				}else if (d.favoriteGenre == "policial"){
 					return '#b3cde3' 
 				}else if (d.favoriteGenre == "biografia"){
 					return '#ccebc5'
 				}else if (d.favoriteGenre == "ficcao"){
 					return '#decbe4'
 				}else if (d.favoriteGenre == "conto"){
 					return '#fed9a6'
 				}else if (d.favoriteGenre == "cronica"){
 					return '#ffffcc'
 				}else if (d.favoriteGenre == "poesia"){
 					return '#e5d8bd'
 				}else{
 					return "black"
 				};

 			})
			var text = svgContainer.selectAll("#p")
           		.data(dataset)
           		.enter()
            	.append("text");

			var textLabels = text
				.attr("x", function(d, index){ return index*50 + 8; })
				.attr("y", function(d){ return (height - 7*d.books + 25) - 40; })
				.text(function(d){ return d.books; })
				.attr("font-family", "sans-serif")
				.attr("font-size", "20px")
				.attr("fill", "white");

			var text2 = svgContainer.selectAll("#u")
           		.data(dataset)
           		.enter()
            	.append("text");

			var textLabels2 = text2
				.attr("x", function(d, index){ return index*50 + 4; })
				.attr("y", function(d){ return height - 25; })
				.text(function(d){ return d.year; })
				.attr("font-family", "sans-serif")
				.attr("font-size", "15px")
				.attr("fill", "black");
 	

   		</script>

  	</body>
</html>